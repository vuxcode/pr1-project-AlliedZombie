<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta title="Oscar's Project">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

<style>
   
</style>
</head>
<body>

<div id="button_holder"> 
    <button id="buttonPhysical" onclick="PlayerDamage()">Physical</button>
    <button id="buttonMagic">Magic</button>
    <button id="buttonIntimidate">Intimidate</button>
</div>

<div id = DevAttackButtons>
<button id="OrcAttacks" onclick="PlayerDamageByOrc()">OrcAttack</button>
<button id="MageAttacks" onclick="PlayerDamageByMage()">MageAttack</button>
<button id="TownsfolkAttacks" onclick="PlayerDamageByTownsfolk()">TownsfolkAttack</button>
</div>

<div class=gameScreen>

    

    <div class ="bgImage">
        <div id="playerHpBar">
            <div id="barHealth">
                <div id="playerHpText">Player</div>
            </div>
        </div>
    </div>

    <div class = "Introduction">
        
        <input type="text" name="name" id="PlayerInputName" placeholder="Your adventure name"/>
        <button type="button" onclick="getPlayerInputName();">Check</button>
        
        <h2>Your task is to *Bla Bla Bla* save the princess and *Bla Bla Bla* the monsters...</h2>
        
        <h2>Understood? Good! May the gods be on your side in battle!</h2>
    </div>

    <div class="DeathScreen">


    </div>
</div>

<div class ="bgImage"></div>


<!--This text will be gone and later be in the popup for the player
<h1>Choose between Physical, Magic or Intimidate.</h1>
<h2>Physical : Fight Orcs</h2>
<h2>Magic : Fight Mages</h2>
<h2>Intimidate : Fight Townsfolk</h2>
-->
<!--
<img src="bg_o.png" alt="Background Image" id="BackgroundImage" style="float:left;width:50%;height:100%;">
<img src="adventurer_o_idle.png" alt="Adventurer Image" id="AdventurerImage">

<img src="orc_o.png" alt="Orc Image" id="OrcImage">
<img src="mage_o.png" alt="Mage Image" id="MageImage">
<img src="" alt="Townsfolk Image" id="TownsfolkImage">
-->
<script>

var playerHp = 100;
var PlayerName = "";





//An array of enemies that have properties to them. Will probably ad sfx properties here aswell.
var enemies = [ 
{Orc: "OrcImage", minDamage: 5, maxDamage:10},
{mage: "MageImage", minDamage: 3, maxDamage:6},
{townsfolk: "TownsfolkImage", minDamage: 1, maxDamage:3}
];


//I want the program to start the introduction at the start.

function getPlayerInputName()
{
    var PlayerName = document.getElementById("PlayerInputName").value;
    Introduction(PlayerName);
    
}



function Introduction(PlayerName)
{
// Make a pop up that introduces the player  and asks for the users name and replace the name below playerHpBar with said name.
// Make it so the user can press outside the box and it will go away.
// Make the rest of the game start. (Timers and start showing the enemy and Player.)
document.getElementById("playerHpText")

}



function EnemySpawnHandler ()
{
//Make the enemies pop up from the enemies array.
}

function SfxHandler(sfxtype)
{
    //Make a sound play depending on what the sfx type is inpouted in the function SfxHandler.
    //Will probably be enemyTakingDamage, PlayerTakingDamage etc 
} 



function PlayerDamageByOrc()
{
    var damage = getRandomInt(enemies[0].minDamage,enemies[0].maxDamage)
    playerHp -= damage
    document.getElementById("barHealth").style.width = playerHp + "%";
    console.log("Orc hit the player with: " + damage + ". The player is now at :" + playerHp + "%");
    if (playerHp < 0){
        KillPlayer();} 
}

function PlayerDamageByMage()
{
    var damage = getRandomInt(enemies[1].minDamage,enemies[1].maxDamage)
    playerHp -= damage
    document.getElementById("barHealth").style.width = playerHp + "%";
    console.log("Mage hit the player with: " + damage + ". The player is now at :" + playerHp + "%");
    if (playerHp < 0){
        KillPlayer();} 
}

function PlayerDamageByTownsfolk()
{
    var damage = getRandomInt(enemies[2].minDamage,enemies[2].maxDamage)
    playerHp -= damage
    document.getElementById("barHealth").style.width = playerHp + "%";
    console.log("Townsfolk hit the player with: " + damage + ". The player is now at :" + playerHp + "%");
    if (playerHp < 0){
        KillPlayer();}
}


//Instead of calculating the random value in each function I decided to make it separate. So This function takes a value from the Damage scripts and returns the randomized value. 
//Not a necessary function but I wanted to explore different methods to return a value from other functions.
function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

//When this gets called it will change som css and do some functions
function KillPlayer()
{
    document.getElementById("barHealth").style.width = 0 + "%";
    //Add a game over popup with the Highscore.
    //add a Restart game function and start it here?

}





</script>
</body>
</html>